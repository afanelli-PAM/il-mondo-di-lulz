# Copia questo file come .env e inserisci i tuoi valori
# ATTENZIONE: non committare mai il file .env nel repository.

# Porta del server
PORT=3000

# Ambiente (development o production)
# In produzione imposta NODE_ENV=production per attivare:
#   - cookie sicuri (HTTPS only)
#   - trust proxy (necessario dietro reverse proxy / PaaS)
#   - cache dei file statici
NODE_ENV=development

# ============================================
# CRITICO: Chiave segreta per le sessioni
# ============================================
# DEVE essere una stringa casuale lunga almeno 32 caratteri.
# Non usare mai il valore di esempio in produzione.
# Genera una chiave sicura con:
#   node -e "console.log(require('crypto').randomBytes(48).toString('hex'))"
# oppure:
#   openssl rand -hex 48
SESSION_SECRET=cambia-questa-chiave-con-una-stringa-casuale-molto-lunga

# ============================================
# PROVIDER AI - Scegli quale utilizzare
# ============================================
# Opzioni: "anthropic" oppure "openai"
AI_PROVIDER=openai

# --- Anthropic (Claude) ---
ANTHROPIC_API_KEY=sk-ant-xxxxx
ANTHROPIC_MODEL=claude-sonnet-4-20250514

# --- OpenAI ---
OPENAI_API_KEY=sk-proj-xxxxx
OPENAI_MODEL=gpt-4o-mini

# ============================================

# URL base del sito (usato per link canonici, email, ecc.)
# In produzione deve essere l'URL pubblico completo con schema HTTPS.
# Esempio: BASE_URL=https://ilmondodilulz.com
BASE_URL=http://localhost:3000

# ============================================
# EMAIL (SMTP) — Verifica registrazione e notifiche cancellazione
# ============================================
# Lascia vuoto in sviluppo: le email vengono solo loggata in console.
# In produzione configura un provider SMTP (es. Gmail app password,
# SendGrid, Brevo/Sendinblue, Mailgun, ecc.)
#
# Esempio Gmail con App Password (porta 465, TLS diretto):
#   SMTP_HOST=smtp.gmail.com
#   SMTP_PORT=465
#   SMTP_SECURE=true
#   SMTP_USER=tuamail@gmail.com
#   SMTP_PASS=xxxx xxxx xxxx xxxx   ← genera una App Password in Google Account
#
# NOTA: Railway e molti PaaS bloccano la porta 587 (STARTTLS).
# Usare sempre porta 465 con SMTP_SECURE=true per deployment cloud.
#
# SMTP_FROM è opzionale (default: "Il Mondo di Lulz <SMTP_USER>")
SMTP_HOST=
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER=
SMTP_PASS=
# SMTP_FROM="Il Mondo di Lulz" <noreply@ilmondodilulz.com>

# ============================================
# DATABASE - Percorso file SQLite
# ============================================
# In locale lascia vuoto (usa ./data/lulz.db automaticamente).
# Su Railway: crea un Volume nel dashboard, montalo su /app/data,
# poi imposta questa variabile su /app/data/lulz.db — in questo modo
# il database sopravvive ai redeploy.
# DB_PATH=/app/data/lulz.db

# ============================================
# CRITICO: Pannello Admin
# ============================================
# Cambia ENTRAMBI i valori prima del deploy in produzione.
# Una password debole espone l'intero pannello di amministrazione.
ADMIN_USERNAME=admin
ADMIN_PASSWORD=cambiami_subito
